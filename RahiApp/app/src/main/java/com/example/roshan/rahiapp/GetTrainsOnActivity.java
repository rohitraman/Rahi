package com.example.roshan.rahiapp;

import android.app.DatePickerDialog;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.DatePicker;
import android.widget.EditText;

import com.android.volley.NetworkResponse;
import com.android.volley.Request;
import com.android.volley.RequestQueue;
import com.android.volley.Response;
import com.android.volley.ServerError;
import com.android.volley.VolleyError;
import com.android.volley.toolbox.HttpHeaderParser;
import com.android.volley.toolbox.JsonObjectRequest;
import com.android.volley.toolbox.Volley;

import org.json.JSONException;
import org.json.JSONObject;

import java.io.UnsupportedEncodingException;
import java.util.Calendar;
//Format of response
//        {'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '0'}, 'region': 'NE', 'train_type': 'Super Fast', 'train_base': {'source_stn_name': 'Thiruvananthapuram Central', 'train_id': '2134', 'source_depart': '06.15', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'SUPERFAST', 'running_days': '0110001', 'to_time': '23.05', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'GKP', 'travel_time': '09.55', 'dstn_stn_name': 'Gorakhpur', 'distance_from_to': '595', 'train_name': 'RAPTISAGAR EXP', 'train_no': '12512', 'source_stn_code': 'TVC', 'from_time': '13.10', 'average_speed': '60', 'to_stn_code': 'MAS', 'dstn_reach': '15.20'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'5': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'10': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'13': {'coach_id': 'S9', 'tag': 'S', 'type': 'SL'}}, {'14': {'coach_id': 'S10', 'tag': 'S', 'type': 'SL'}}, {'15': {'coach_id': 'S11', 'tag': 'S', 'type': 'SL'}}, {'16': {'coach_id': '', 'tag': '', 'type': 'PC'}}, {'17': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'18': {'coach_id': 'B2', 'tag': 'B', 'type': '3A'}}, {'19': {'coach_id': 'B3', 'tag': 'B', 'type': '3A'}}, {'20': {'coach_id': 'B4', 'tag': 'B', 'type': '3A'}}, {'21': {'coach_id': 'A1', 'tag': 'A', 'type': '2A'}}, {'22': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'23': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'24': {'coach_id': '', 'tag': '', 'type': 'GS'}}], 'rake_share': ['12511', '12512', '12589', '12590', '12591', '12592']}
//        {'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '0'}, 'region': 'ECR', 'train_type': 'Super Fast', 'train_base': {'source_stn_name': 'Ernakulam Jn', 'train_id': '2149', 'source_depart': '10.15', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'SUPERFAST', 'running_days': '0000100', 'to_time': '23.05', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'BJU', 'travel_time': '09.55', 'dstn_stn_name': 'Barauni Jn', 'distance_from_to': '595', 'train_name': 'RAPTISAGAR EXP', 'train_no': '12522', 'source_stn_code': 'ERS', 'from_time': '13.10', 'average_speed': '60', 'notif_coach': 'Booking not available in any class for all stations between Eranakulam and Tiruppur.\r\n\r\n', 'to_stn_code': 'MAS', 'dstn_reach': '22.50'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'5': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'10': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': 'S9', 'tag': 'S', 'type': 'SL'}}, {'13': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'14': {'coach_id': 'S10', 'tag': 'S', 'type': 'SL'}}, {'15': {'coach_id': 'S11', 'tag': 'S', 'type': 'SL'}}, {'16': {'coach_id': 'S12', 'tag': 'S', 'type': 'SL'}}, {'17': {'coach_id': 'S13', 'tag': 'S', 'type': 'SL'}}, {'18': {'coach_id': '', 'tag': '', 'type': 'PC'}}, {'19': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'20': {'coach_id': 'B2', 'tag': 'B', 'type': '3A'}}, {'21': {'coach_id': 'B3', 'tag': 'B', 'type': '3A'}}, {'22': {'coach_id': 'A1', 'tag': 'A', 'type': '2A'}}, {'23': {'coach_id': 'A2', 'tag': 'A', 'type': '2A'}}, {'24': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'25': {'coach_id': '', 'tag': '', 'type': 'GS'}}], 'rake_share': ['12521', '12522']}
//        {'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '0'}, 'region': 'SR', 'train_type': 'Super Fast', 'train_base': {'source_stn_name': 'Mangalore Central', 'train_id': '2207', 'source_depart': '13.25', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'SUPERFAST', 'running_days': '1111111', 'to_time': '05.40', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'MAS', 'travel_time': '10.15', 'dstn_stn_name': 'Chennai Central', 'distance_from_to': '582', 'train_name': 'CHENNAI MAIL', 'train_no': '12602', 'source_stn_code': 'MAQ', 'from_time': '19.25', 'average_speed': '57', 'notif_coach': 'Booking not available in any class for all stations between Mangalore and Quilandi.', 'to_stn_code': 'MAS', 'dstn_reach': '05.40'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'5': {'coach_id': 'S11', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S10', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S9', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'10': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'13': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'14': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'15': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'16': {'coach_id': 'B4', 'tag': 'B', 'type': '3A'}}, {'17': {'coach_id': 'B3', 'tag': 'B', 'type': '3A'}}, {'18': {'coach_id': 'B2', 'tag': 'B', 'type': '3A'}}, {'19': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'20': {'coach_id': 'A1', 'tag': 'A', 'type': '2A'}}, {'21': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'22': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'23': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'24': {'coach_id': '', 'tag': '', 'type': 'VP'}}], 'rake_share': ['12602', '22637']}
//        {'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '1'}, 'region': 'SR', 'train_type': 'Super Fast', 'train_base': {'source_stn_name': 'Mangalore Central', 'train_id': '2330', 'source_depart': '16.20', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'SUPERFAST', 'running_days': '1111111', 'to_time': '08.00', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'MAS', 'travel_time': '10.30', 'dstn_stn_name': 'Chennai Central', 'distance_from_to': '582', 'train_name': 'CHENNAI EXP', 'train_no': '12686', 'source_stn_code': 'MAQ', 'from_time': '21.30', 'average_speed': '55', 'notif_coach': 'Booking not available in any class for all stations between Mangalore and Palakkad.', 'to_stn_code': 'MAS', 'dstn_reach': '08.00'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GC'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'5': {'coach_id': 'S11', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S10', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S9', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'10': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'13': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'14': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'15': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'16': {'coach_id': 'B2', 'tag': 'B', 'type': '3A'}}, {'17': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'18': {'coach_id': 'A2', 'tag': 'A', 'type': '2A'}}, {'19': {'coach_id': 'A1', 'tag': 'A', 'type': '2A'}}, {'20': {'coach_id': 'HA1', 'tag': 'HA', 'type': '1A + 2A'}}, {'21': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'22': {'coach_id': '', 'tag': '', 'type': 'GC'}}], 'rake_share': ['12685', '12686']}
//        {'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '0'}, 'region': 'ECR', 'train_type': 'Mail & Express', 'train_base': {'source_stn_name': 'Alleppey', 'train_id': '3154', 'source_depart': '05.55', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'MAIL_EXPRESS', 'running_days': '1111111', 'to_time': '22.05', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'DHN', 'travel_time': '12.20', 'dstn_stn_name': 'Dhanbad Jn', 'distance_from_to': '595', 'train_name': 'DHANBAD EXPRESS', 'train_no': '13352', 'source_stn_code': 'ALLP', 'from_time': '09.45', 'average_speed': '48', 'to_stn_code': 'MAS', 'dstn_reach': '13.30'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'5': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'10': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': '', 'tag': '', 'type': 'PC'}}, {'13': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'14': {'coach_id': 'A1', 'tag': 'A', 'type': '2A'}}, {'15': {'coach_id': '', 'tag': '', 'type': '2A'}}, {'16': {'coach_id': '', 'tag': '', 'type': '3A'}}, {'17': {'coach_id': '', 'tag': '', 'type': '3A'}}, {'18': {'coach_id': '', 'tag': '', 'type': 'SL'}}, {'19': {'coach_id': '', 'tag': '', 'type': 'SL'}}, {'20': {'coach_id': '', 'tag': '', 'type': 'SL'}}, {'21': {'coach_id': '', 'tag': '', 'type': 'SL'}}, {'22': {'coach_id': '', 'tag': '', 'type': 'SL'}}, {'23': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'24': {'coach_id': '', 'tag': '', 'type': 'GS'}}], 'rake_share': ['13351', '13352']}
//        {'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '0', '2A': '0', '3A': '0', '1A': '0'}, 'train_base': {'source_stn_name': 'Alleppey', 'train_id': '14108', 'source_depart': '05.55', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'MAIL_EXPRESS', 'running_days': '1111111', 'to_time': '22.05', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'TATA', 'travel_time': '12.20', 'dstn_stn_name': 'Tatanagar Jn', 'distance_from_to': '599', 'train_name': 'ALLP LINK EXP', 'train_no': '18190', 'source_stn_code': 'ALLP', 'from_time': '09.45', 'average_speed': '49', 'notif_coach': 'Run together with 13352 between Alleppey and Rourkela.', 'to_stn_code': 'MAS', 'dstn_reach': '09.10'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'5': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': 'B3', 'tag': 'B', 'type': '3A'}}, {'10': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'11': {'coach_id': 'A2', 'tag': 'A', 'type': '2A'}}, {'12': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'13': {'coach_id': '', 'tag': '', 'type': 'GS'}}], 'train_type': 'Link', 'region': 'SER'}
//        {'coach_types': {'CC': '0', '2S': '1', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '1'}, 'train_base': {'source_stn_name': 'Mangalore Central', 'train_id': '15827', 'source_depart': '06.55', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'MAIL_EXPRESS', 'running_days': '1111111', 'to_time': '04.15', 'to_stn_name': 'Chennai Egmore', 'dstn_stn_code': 'MS', 'travel_time': '15.20', 'dstn_stn_name': 'Chennai Egmore', 'distance_from_to': '676', 'train_name': 'MAQ CHENNAI EXP', 'train_no': '16860', 'source_stn_code': 'MAQ', 'from_time': '12.55', 'average_speed': '44', 'to_stn_code': 'MS', 'dstn_reach': '04.15'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'5': {'coach_id': 'S11', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S10', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S9', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'10': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'13': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'14': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'15': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'16': {'coach_id': 'D2', 'tag': 'D', 'type': '2S'}}, {'17': {'coach_id': 'D1', 'tag': 'D', 'type': '2S'}}, {'18': {'coach_id': 'B3', 'tag': 'B', 'type': '3A'}}, {'19': {'coach_id': 'B2', 'tag': 'B', 'type': '3A'}}, {'20': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'21': {'coach_id': 'HA1', 'tag': 'HA', 'type': '2A'}}, {'22': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'23': {'coach_id': '', 'tag': '', 'type': 'GS'}}], 'train_type': 'Mail & Express', 'region': 'SR'}
//        {'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '0'}, 'train_base': {'source_stn_name': 'Thiruvananthapuram Central', 'train_id': '16866', 'source_depart': '06.15', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'SUPERFAST', 'running_days': '0000010', 'to_time': '23.05', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'INDB', 'travel_time': '09.55', 'dstn_stn_name': 'Indore Jn Bg', 'distance_from_to': '595', 'train_name': 'AHILYANAGARI EX', 'train_no': '22646', 'source_stn_code': 'TVC', 'from_time': '13.10', 'average_speed': '60', 'to_stn_code': 'MAS', 'dstn_reach': '05.15'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'5': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': '', 'tag': '', 'type': 'PC'}}, {'10': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'13': {'coach_id': 'S9', 'tag': 'S', 'type': 'SL'}}, {'14': {'coach_id': 'S10', 'tag': 'S', 'type': 'SL'}}, {'15': {'coach_id': 'S11', 'tag': 'S', 'type': 'SL'}}, {'16': {'coach_id': 'A1', 'tag': 'A', 'type': '2A'}}, {'17': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'18': {'coach_id': 'B2', 'tag': 'B', 'type': '3A'}}, {'19': {'coach_id': 'B3', 'tag': 'B', 'type': '3A'}}, {'20': {'coach_id': 'B4', 'tag': 'B', 'type': '3A'}}, {'21': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'22': {'coach_id': '', 'tag': '', 'type': 'GS'}}], 'train_type': 'Super Fast', 'region': 'SR'}
//        {'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '0'}, 'notif': 'Booking not available in any class for all stations between Mangalore Central and Kozhikkode.DF quota decreased On Fri,Sat & Sunday in 3A Class. ', 'train_type': 'Super Fast', 'train_base': {'source_stn_name': 'Mangalore Central', 'train_id': '16868', 'source_depart': '22.20', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'SUPERFAST', 'running_days': '1111111', 'to_time': '14.40', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'MAS', 'travel_time': '10.35', 'dstn_stn_name': 'Chennai Central', 'distance_from_to': '595', 'train_name': 'WEST COAST EXP', 'train_no': '22638', 'source_stn_code': 'MAQ', 'from_time': '04.05', 'average_speed': '56', 'to_stn_code': 'MAS', 'dstn_reach': '14.40'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'5': {'coach_id': 'A1', 'tag': 'A', 'type': '2A'}}, {'6': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'7': {'coach_id': 'B2', 'tag': 'B', 'type': '3A'}}, {'8': {'coach_id': 'B3', 'tag': 'B', 'type': '3A'}}, {'9': {'coach_id': 'B4', 'tag': 'B', 'type': '3A'}}, {'10': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'13': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'14': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'15': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'16': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'17': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'18': {'coach_id': 'S9', 'tag': 'S', 'type': 'SL'}}, {'19': {'coach_id': 'S10', 'tag': 'S', 'type': 'SL'}}, {'20': {'coach_id': 'S11', 'tag': 'S', 'type': 'SL'}}, {'21': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'22': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'23': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'24': {'coach_id': '', 'tag': '', 'type': 'VP'}}], 'rake_share': ['12601', '12602'], 'region': 'SR'}
//        {'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '0'}, 'train_base': {'source_stn_name': 'Thiruvananthapuram Central', 'train_id': '16880', 'source_depart': '06.15', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'SUPERFAST', 'running_days': '1001000', 'to_time': '23.05', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'KRBA', 'travel_time': '09.55', 'dstn_stn_name': 'Korba', 'distance_from_to': '595', 'train_name': 'KORBA EXPRESS', 'train_no': '22648', 'source_stn_code': 'TVC', 'from_time': '13.10', 'average_speed': '60', 'to_stn_code': 'MAS', 'dstn_reach': '03.30'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'5': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'10': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': 'S9', 'tag': 'S', 'type': 'SL'}}, {'13': {'coach_id': 'S10', 'tag': 'S', 'type': 'SL'}}, {'14': {'coach_id': '', 'tag': '', 'type': 'PC'}}, {'15': {'coach_id': 'S11', 'tag': 'S', 'type': 'SL'}}, {'16': {'coach_id': 'A1', 'tag': 'A', 'type': '2A'}}, {'17': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'18': {'coach_id': 'B2', 'tag': 'B', 'type': '3A'}}, {'19': {'coach_id': 'B3', 'tag': 'B', 'type': '3A'}}, {'20': {'coach_id': 'B4', 'tag': 'B', 'type': '3A'}}, {'21': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'22': {'coach_id': '', 'tag': '', 'type': 'GS'}}], 'train_type': 'Super Fast', 'region': 'SR'}
//        [{'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '0'}, 'region': 'SR', 'train_type': 'Super Fast', 'train_base': {'source_stn_name': 'Mangalore Central', 'train_id': '2207', 'source_depart': '13.25', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'SUPERFAST', 'running_days': '1111111', 'to_time': '05.40', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'MAS', 'travel_time': '10.15', 'dstn_stn_name': 'Chennai Central', 'distance_from_to': '582', 'train_name': 'CHENNAI MAIL', 'train_no': '12602', 'source_stn_code': 'MAQ', 'from_time': '19.25', 'average_speed': '57', 'notif_coach': 'Booking not available in any class for all stations between Mangalore and Quilandi.', 'to_stn_code': 'MAS', 'dstn_reach': '05.40'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'5': {'coach_id': 'S11', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S10', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S9', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'10': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'13': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'14': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'15': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'16': {'coach_id': 'B4', 'tag': 'B', 'type': '3A'}}, {'17': {'coach_id': 'B3', 'tag': 'B', 'type': '3A'}}, {'18': {'coach_id': 'B2', 'tag': 'B', 'type': '3A'}}, {'19': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'20': {'coach_id': 'A1', 'tag': 'A', 'type': '2A'}}, {'21': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'22': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'23': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'24': {'coach_id': '', 'tag': '', 'type': 'VP'}}], 'rake_share': ['12602', '22637']}, {'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '1'}, 'region': 'SR', 'train_type': 'Super Fast', 'train_base': {'source_stn_name': 'Mangalore Central', 'train_id': '2330', 'source_depart': '16.20', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'SUPERFAST', 'running_days': '1111111', 'to_time': '08.00', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'MAS', 'travel_time': '10.30', 'dstn_stn_name': 'Chennai Central', 'distance_from_to': '582', 'train_name': 'CHENNAI EXP', 'train_no': '12686', 'source_stn_code': 'MAQ', 'from_time': '21.30', 'average_speed': '55', 'notif_coach': 'Booking not available in any class for all stations between Mangalore and Palakkad.', 'to_stn_code': 'MAS', 'dstn_reach': '08.00'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GC'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'5': {'coach_id': 'S11', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S10', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S9', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'10': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'13': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'14': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'15': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'16': {'coach_id': 'B2', 'tag': 'B', 'type': '3A'}}, {'17': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'18': {'coach_id': 'A2', 'tag': 'A', 'type': '2A'}}, {'19': {'coach_id': 'A1', 'tag': 'A', 'type': '2A'}}, {'20': {'coach_id': 'HA1', 'tag': 'HA', 'type': '1A + 2A'}}, {'21': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'22': {'coach_id': '', 'tag': '', 'type': 'GC'}}], 'rake_share': ['12685', '12686']}, {'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '0'}, 'region': 'ECR', 'train_type': 'Mail & Express', 'train_base': {'source_stn_name': 'Alleppey', 'train_id': '3154', 'source_depart': '05.55', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'MAIL_EXPRESS', 'running_days': '1111111', 'to_time': '22.05', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'DHN', 'travel_time': '12.20', 'dstn_stn_name': 'Dhanbad Jn', 'distance_from_to': '595', 'train_name': 'DHANBAD EXPRESS', 'train_no': '13352', 'source_stn_code': 'ALLP', 'from_time': '09.45', 'average_speed': '48', 'to_stn_code': 'MAS', 'dstn_reach': '13.30'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'5': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'10': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': '', 'tag': '', 'type': 'PC'}}, {'13': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'14': {'coach_id': 'A1', 'tag': 'A', 'type': '2A'}}, {'15': {'coach_id': '', 'tag': '', 'type': '2A'}}, {'16': {'coach_id': '', 'tag': '', 'type': '3A'}}, {'17': {'coach_id': '', 'tag': '', 'type': '3A'}}, {'18': {'coach_id': '', 'tag': '', 'type': 'SL'}}, {'19': {'coach_id': '', 'tag': '', 'type': 'SL'}}, {'20': {'coach_id': '', 'tag': '', 'type': 'SL'}}, {'21': {'coach_id': '', 'tag': '', 'type': 'SL'}}, {'22': {'coach_id': '', 'tag': '', 'type': 'SL'}}, {'23': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'24': {'coach_id': '', 'tag': '', 'type': 'GS'}}], 'rake_share': ['13351', '13352']}, {'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '0', '2A': '0', '3A': '0', '1A': '0'}, 'train_base': {'source_stn_name': 'Alleppey', 'train_id': '14108', 'source_depart': '05.55', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'MAIL_EXPRESS', 'running_days': '1111111', 'to_time': '22.05', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'TATA', 'travel_time': '12.20', 'dstn_stn_name': 'Tatanagar Jn', 'distance_from_to': '599', 'train_name': 'ALLP LINK EXP', 'train_no': '18190', 'source_stn_code': 'ALLP', 'from_time': '09.45', 'average_speed': '49', 'notif_coach': 'Run together with 13352 between Alleppey and Rourkela.', 'to_stn_code': 'MAS', 'dstn_reach': '09.10'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'5': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': 'B3', 'tag': 'B', 'type': '3A'}}, {'10': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'11': {'coach_id': 'A2', 'tag': 'A', 'type': '2A'}}, {'12': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'13': {'coach_id': '', 'tag': '', 'type': 'GS'}}], 'train_type': 'Link', 'region': 'SER'}, {'coach_types': {'CC': '0', '2S': '1', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '1'}, 'train_base': {'source_stn_name': 'Mangalore Central', 'train_id': '15827', 'source_depart': '06.55', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'MAIL_EXPRESS', 'running_days': '1111111', 'to_time': '04.15', 'to_stn_name': 'Chennai Egmore', 'dstn_stn_code': 'MS', 'travel_time': '15.20', 'dstn_stn_name': 'Chennai Egmore', 'distance_from_to': '676', 'train_name': 'MAQ CHENNAI EXP', 'train_no': '16860', 'source_stn_code': 'MAQ', 'from_time': '12.55', 'average_speed': '44', 'to_stn_code': 'MS', 'dstn_reach': '04.15'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'5': {'coach_id': 'S11', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S10', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S9', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'10': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'13': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'14': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'15': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'16': {'coach_id': 'D2', 'tag': 'D', 'type': '2S'}}, {'17': {'coach_id': 'D1', 'tag': 'D', 'type': '2S'}}, {'18': {'coach_id': 'B3', 'tag': 'B', 'type': '3A'}}, {'19': {'coach_id': 'B2', 'tag': 'B', 'type': '3A'}}, {'20': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'21': {'coach_id': 'HA1', 'tag': 'HA', 'type': '2A'}}, {'22': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'23': {'coach_id': '', 'tag': '', 'type': 'GS'}}], 'train_type': 'Mail & Express', 'region': 'SR'}, {'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '0'}, 'train_base': {'source_stn_name': 'Thiruvananthapuram Central', 'train_id': '16866', 'source_depart': '06.15', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'SUPERFAST', 'running_days': '0000010', 'to_time': '23.05', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'INDB', 'travel_time': '09.55', 'dstn_stn_name': 'Indore Jn Bg', 'distance_from_to': '595', 'train_name': 'AHILYANAGARI EX', 'train_no': '22646', 'source_stn_code': 'TVC', 'from_time': '13.10', 'average_speed': '60', 'to_stn_code': 'MAS', 'dstn_reach': '05.15'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'5': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'6': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'7': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'8': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'9': {'coach_id': '', 'tag': '', 'type': 'PC'}}, {'10': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'13': {'coach_id': 'S9', 'tag': 'S', 'type': 'SL'}}, {'14': {'coach_id': 'S10', 'tag': 'S', 'type': 'SL'}}, {'15': {'coach_id': 'S11', 'tag': 'S', 'type': 'SL'}}, {'16': {'coach_id': 'A1', 'tag': 'A', 'type': '2A'}}, {'17': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'18': {'coach_id': 'B2', 'tag': 'B', 'type': '3A'}}, {'19': {'coach_id': 'B3', 'tag': 'B', 'type': '3A'}}, {'20': {'coach_id': 'B4', 'tag': 'B', 'type': '3A'}}, {'21': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'22': {'coach_id': '', 'tag': '', 'type': 'GS'}}], 'train_type': 'Super Fast', 'region': 'SR'}, {'coach_types': {'CC': '0', '2S': '0', 'GN': '1', 'SL': '1', '2A': '1', '3A': '1', '1A': '0'}, 'notif': 'Booking not available in any class for all stations between Mangalore Central and Kozhikkode.DF quota decreased On Fri,Sat & Sunday in 3A Class. ', 'train_type': 'Super Fast', 'train_base': {'source_stn_name': 'Mangalore Central', 'train_id': '16868', 'source_depart': '22.20', 'from_stn_code': 'SRR', 'from_stn_name': 'Shoranur Jn', 'type': 'SUPERFAST', 'running_days': '1111111', 'to_time': '14.40', 'to_stn_name': 'Chennai Central', 'dstn_stn_code': 'MAS', 'travel_time': '10.35', 'dstn_stn_name': 'Chennai Central', 'distance_from_to': '595', 'train_name': 'WEST COAST EXP', 'train_no': '22638', 'source_stn_code': 'MAQ', 'from_time': '04.05', 'average_speed': '56', 'to_stn_code': 'MAS', 'dstn_reach': '14.40'}, 'coach_arrangement': [{'1': {'coach_id': '', 'tag': '', 'type': 'En'}}, {'2': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'3': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'4': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'5': {'coach_id': 'A1', 'tag': 'A', 'type': '2A'}}, {'6': {'coach_id': 'B1', 'tag': 'B', 'type': '3A'}}, {'7': {'coach_id': 'B2', 'tag': 'B', 'type': '3A'}}, {'8': {'coach_id': 'B3', 'tag': 'B', 'type': '3A'}}, {'9': {'coach_id': 'B4', 'tag': 'B', 'type': '3A'}}, {'10': {'coach_id': 'S1', 'tag': 'S', 'type': 'SL'}}, {'11': {'coach_id': 'S2', 'tag': 'S', 'type': 'SL'}}, {'12': {'coach_id': 'S3', 'tag': 'S', 'type': 'SL'}}, {'13': {'coach_id': 'S4', 'tag': 'S', 'type': 'SL'}}, {'14': {'coach_id': 'S5', 'tag': 'S', 'type': 'SL'}}, {'15': {'coach_id': 'S6', 'tag': 'S', 'type': 'SL'}}, {'16': {'coach_id': 'S7', 'tag': 'S', 'type': 'SL'}}, {'17': {'coach_id': 'S8', 'tag': 'S', 'type': 'SL'}}, {'18': {'coach_id': 'S9', 'tag': 'S', 'type': 'SL'}}, {'19': {'coach_id': 'S10', 'tag': 'S', 'type': 'SL'}}, {'20': {'coach_id': 'S11', 'tag': 'S', 'type': 'SL'}}, {'21': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'22': {'coach_id': '', 'tag': '', 'type': 'UR'}}, {'23': {'coach_id': '', 'tag': '', 'type': 'GS'}}, {'24': {'coach_id': '', 'tag': '', 'type': 'VP'}}], 'rake_share': ['12601', '12602'], 'region': 'SR'}]

public class GetTrainsOnActivity extends AppCompatActivity {
    EditText etFrom, etTo, etDate;
    Button button;
    String date;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_get_trains_on);
        etFrom = (EditText) findViewById(R.id.et_from_2);
        etTo = (EditText) findViewById(R.id.et_to_2);
        etDate = (EditText) findViewById(R.id.et_date);

        button = (Button) findViewById(R.id.button2);
        etDate.setShowSoftInputOnFocus(false);
        Calendar calendar = Calendar.getInstance();
        final int dd = calendar.get(Calendar.DAY_OF_MONTH);
        final int mm = calendar.get(Calendar.MONTH);
        final int yy = calendar.get(Calendar.YEAR);

        etDate.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                DatePickerDialog dialog = new DatePickerDialog(GetTrainsOnActivity.this, new DatePickerDialog.OnDateSetListener() {
                    @Override
                    public void onDateSet(DatePicker datePicker, int i, int i1, int i2) {
                        date = String.valueOf(i2) + "-" + String.valueOf(i1+1) + "-" + String.valueOf(i);
                        etDate.setText(date);
                    }
                }, yy, mm, dd);
                dialog.show();
            }
        });
        button.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                String[] dates = date.split("-");
                String dd = dates[0];
                String mm = dates[1];
                String yy = dates[2];
                JSONObject object = new JSONObject();
                try {
                    object.put("from",etFrom.getText().toString().toUpperCase());
                    object.put("to",etTo.getText().toString().toUpperCase());
                    object.put("dd",Integer.parseInt(dd));
                    object.put("mm",Integer.parseInt(mm));
                    object.put("yyyy",Integer.parseInt(yy));
                    final JsonObjectRequest request = new JsonObjectRequest(Request.Method.POST, "http://192.168.0.105:8080/getTrainsOn", object, new Response.Listener<JSONObject>() {
                        @Override
                        public void onResponse(JSONObject response) {
                            Log.i("Response",response.toString());
                        }
                    }, new Response.ErrorListener() {
                        @Override
                        public void onErrorResponse(VolleyError error) {
                            Log.i("Eror",error.getLocalizedMessage());
                            NetworkResponse response = error.networkResponse;
                            if(error instanceof ServerError && response!=null)
                            {
                                try {
                                    String string = new String(response.data, HttpHeaderParser.parseCharset(response.headers,"utf-8"));
                                    Log.i("Logging",string);
                                } catch (UnsupportedEncodingException e) {
                                    e.printStackTrace();
                                }
                            }
;                        }
                    });

                    RequestQueue queue = Volley.newRequestQueue(GetTrainsOnActivity.this);
                    queue.add(request);
                } catch (JSONException e) {
                    e.printStackTrace();
                }


            }
        });

    }
}
